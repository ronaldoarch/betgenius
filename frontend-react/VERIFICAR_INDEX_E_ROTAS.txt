â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ðŸ” VERIFICAR INDEX.PHP E ROTAS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Execute estes comandos no SSH:

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

cd /home/u127271520/domains/betgeniusbr.com/public_html

# 1. Verificar se index.php existe na raiz
echo "=== 1. Verificando index.php na raiz ==="
if [ -f "index.php" ]; then
    echo "âœ… index.php existe na raiz"
    head -10 index.php
else
    echo "âŒ index.php NÃƒO existe na raiz"
    echo "Verificando se hÃ¡ backup..."
    ls -la index.php.backup.* 2>/dev/null || echo "Nenhum backup encontrado"
fi
echo ""

# 2. Verificar se public/index.php existe
echo "=== 2. Verificando public/index.php ==="
if [ -f "public/index.php" ]; then
    echo "âœ… public/index.php existe"
    head -10 public/index.php
else
    echo "âŒ public/index.php NÃƒO existe!"
fi
echo ""

# 3. Verificar rotas do Filament
echo "=== 3. Verificando rotas do Filament ==="
php artisan route:list | grep -i "zirigui\|filament" | head -15
echo ""

# 4. Verificar .env para FILAMENT_BASE_URL
echo "=== 4. Verificando FILAMENT_BASE_URL no .env ==="
grep "FILAMENT_BASE_URL" .env || echo "FILAMENT_BASE_URL nÃ£o encontrado"
echo ""

# 5. Testar se /zirigui estÃ¡ sendo roteado corretamente
echo "=== 5. Testando roteamento /zirigui ==="
curl -s -I "https://betgeniusbr.com/zirigui" | head -5
echo ""

# 6. Verificar se hÃ¡ index.html em public/ (React)
echo "=== 6. Verificando public/index.html (React) ==="
if [ -f "public/index.html" ]; then
    echo "âœ… public/index.html existe (React)"
    head -5 public/index.html
else
    echo "âŒ public/index.html NÃƒO existe"
fi
echo ""

# 7. Verificar .htaccess completo
echo "=== 7. .htaccess em public/ (completo) ==="
cat public/.htaccess
echo ""

# 8. Se index.php da raiz nÃ£o existir, criar um que redirecione corretamente
echo "=== 8. Criando index.php na raiz (se necessÃ¡rio) ==="
if [ ! -f "index.php" ]; then
    cat > index.php << 'PHPEOF'
<?php
/**
 * Router na raiz - redireciona para public/
 * 
 * Este arquivo garante que requisiÃ§Ãµes para /zirigui/* sejam
 * roteadas corretamente para o Laravel
 */

$requestUri = $_SERVER['REQUEST_URI'] ?? '/';

// Se for /zirigui, /api ou /storage, redirecionar para public/
if (preg_match('#^/(zirigui|api|storage)#', $requestUri)) {
    // Redirecionar para public/ mantendo a URI
    $newUri = '/public' . $requestUri;
    header("Location: $newUri", true, 307);
    exit;
}

// Caso contrÃ¡rio, servir React
$indexPath = __DIR__ . '/public/index.html';
if (file_exists($indexPath)) {
    header('Content-Type: text/html; charset=utf-8');
    readfile($indexPath);
    exit;
}

http_response_code(404);
echo 'Not Found';
PHPEOF
    echo "âœ… index.php criado na raiz"
else
    echo "index.php jÃ¡ existe na raiz"
fi
echo ""

echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "âœ… VERIFICAÃ‡ÃƒO CONCLUÃDA"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

